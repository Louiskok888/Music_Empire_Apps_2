(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{7652:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return r(3122)}])},3122:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return C}});var n=r(8520),a=r.n(n),s=r(5893),i=r(2425),l=r.n(i),c=r(5675),o=r(1043),u=r(7294),d=r(5021),h=r(9669),_=r.n(h),p=r(1163),x=r(1388),m=r(615),f=r.n(m),j=function(t){var e=t.total,r=t.createOrder,n=(0,u.useState)(""),a=n[0],i=n[1],l=(0,u.useState)(""),c=l[0],o=l[1];return(0,s.jsx)("div",{className:f().container,children:(0,s.jsxs)("div",{className:f().wrapper,children:[(0,s.jsx)("h1",{className:f().title,children:"You will pay $12 after delivery."}),(0,s.jsxs)("div",{className:f().item,children:[(0,s.jsx)("label",{className:f().label,children:"Name Surname"}),(0,s.jsx)("input",{placeholder:"John Doe",type:"text",className:f().input,onChange:function(t){return i(t.target.value)}})]}),(0,s.jsxs)("div",{className:f().item,children:[(0,s.jsx)("label",{className:f().label,children:"Phone Number"}),(0,s.jsx)("input",{type:"text",placeholder:"+1 234 567 89",className:f().input})]}),(0,s.jsxs)("div",{className:f().item,children:[(0,s.jsx)("label",{className:f().label,children:"Address"}),(0,s.jsx)("textarea",{rows:5,placeholder:"Elton St. 505 NY",type:"text",className:f().textarea,onChange:function(t){return o(t.target.value)}})]}),(0,s.jsx)("button",{className:f().button,onClick:function(){r({customer:a,address:c,total:e,method:0})},children:"Order"})]})})};function b(t,e,r,n,a,s,i){try{var l=t[s](i),c=l.value}catch(o){return void r(o)}l.done?e(c):Promise.resolve(c).then(n,a)}function v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){v(t,e,r[e])}))}return t}function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,a=!1,s=void 0;try{for(var i,l=t[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(c){a=!0,s=c}finally{try{n||null==l.return||l.return()}finally{if(a)throw s}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var C=function(){var t,e=(0,o.v9)((function(t){return t.cart})),r=(0,u.useState)(!1),n=r[0],i=r[1],h=(0,u.useState)(!1),m=h[0],f=h[1],v=e.total,C={layout:"vertical"},w=(0,o.I0)(),g=(0,p.useRouter)(),O=(t=a().mark((function t(e){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_().post("http://localhost:3000/api/orders",e);case 3:201===(r=t.sent).status&&(w((0,x.mc)()),g.push("/orders/".concat(r.data._id))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var s=t.apply(e,r);function i(t){b(s,n,a,i,l,"next",t)}function l(t){b(s,n,a,i,l,"throw",t)}i(void 0)}))}),T=function(t){var r=t.currency,n=t.showSpinner,a=y((0,d.Up)(),2),i=a[0],l=i.options,c=i.isPending,o=a[1];return(0,u.useEffect)((function(){o({type:"resetOptions",value:N({},l,{currency:r})})}),[r,n,o,l]),(0,s.jsxs)(s.Fragment,{children:[n&&c&&(0,s.jsx)("div",{className:"spinner"}),(0,s.jsx)(d.ch,{style:C,disabled:!1,forceReRender:[v,r,C],fundingSource:void 0,createOrder:function(t,e){return e.order.create({purchase_units:[{amount:{currency_code:r,value:v}}]}).then((function(t){return t}))},onApprove:function(t,r){return r.order.capture().then((function(t){var r=t.purchase_units[0].shipping;O({customer:r.name.full_name,address:r.address.address_line_1,total:e.total,method:1})}))}})]})};return(0,s.jsxs)("div",{className:l().container,children:[(0,s.jsx)("div",{className:l().left,children:(0,s.jsxs)("table",{className:l().table,children:[(0,s.jsx)("tbody",{children:(0,s.jsxs)("tr",{className:l().trTitle,children:[(0,s.jsx)("th",{children:"Product"}),(0,s.jsx)("th",{children:"Name"}),(0,s.jsx)("th",{children:"Extras"}),(0,s.jsx)("th",{children:"Price"}),(0,s.jsx)("th",{children:"Quantity"}),(0,s.jsx)("th",{children:"Total"})]})}),(0,s.jsx)("tbody",{children:e.products.map((function(t){return(0,s.jsxs)("tr",{className:l().tr,children:[(0,s.jsx)("td",{children:(0,s.jsx)("div",{className:l().imgContainer,children:(0,s.jsx)(c.default,{src:t.img,layout:"fill",objectFit:"cover",alt:""})})}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:l().name,children:t.title})}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:l().extras,children:t.extras.map((function(t){return(0,s.jsxs)("span",{children:[t.text,", "]},t._id)}))})}),(0,s.jsx)("td",{children:(0,s.jsxs)("span",{className:l().price,children:["$",t.price]})}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:l().quantity,children:t.quantity})}),(0,s.jsx)("td",{children:(0,s.jsxs)("span",{className:l().total,children:["$",t.price*t.quantity]})})]},t._id)}))})]})}),(0,s.jsx)("div",{className:l().right,children:(0,s.jsxs)("div",{className:l().wrapper,children:[(0,s.jsx)("h2",{className:l().title,children:"CART TOTAL"}),(0,s.jsxs)("div",{className:l().totalText,children:[(0,s.jsx)("b",{className:l().totalTextTitle,children:"Subtotal:"}),"$",e.total]}),(0,s.jsxs)("div",{className:l().totalText,children:[(0,s.jsx)("b",{className:l().totalTextTitle,children:"Discount:"}),"$0.00"]}),(0,s.jsxs)("div",{className:l().totalText,children:[(0,s.jsx)("b",{className:l().totalTextTitle,children:"Total:"}),"$",e.total]}),n?(0,s.jsxs)("div",{className:l().paymentMethods,children:[(0,s.jsx)("button",{className:l().payButton,onClick:function(){return f(!0)},children:"CASH ON DELIVERY"}),(0,s.jsx)(d.Vv,{options:{"client-id":"AXpGYYjB6lUDOmNbjyqUdUeFQJfR726Bqd9nJtlbW-g6p3FBSKohKTFzc8y8JP8sNoULq2fllMQrZ-sY",components:"buttons",currency:"USD","disable-funding":"credit,card,p24"},children:(0,s.jsx)(T,{currency:"USD",showSpinner:!1})})]}):(0,s.jsx)("button",{onClick:function(){return i(!0)},className:l().button,children:"CHECKOUT NOW!"})]})}),m&&(0,s.jsx)(j,{total:e.total,createOrder:O})]})}},2425:function(t){t.exports={container:"Cart_container__v66s_",left:"Cart_left__uUdiV",right:"Cart_right__uQLkn",imgContainer:"Cart_imgContainer__X_0WK",table:"Cart_table__AtJ4d",name:"Cart_name__VSWCt",total:"Cart_total__e1x0z",wrapper:"Cart_wrapper__hwYiL",totalTextTitle:"Cart_totalTextTitle__5HC3q",button:"Cart_button__FRScP",trTitle:"Cart_trTitle__xPgd6",tr:"Cart_tr___K6pr",extras:"Cart_extras__B_Qbi",price:"Cart_price__JXkRc",quantity:"Cart_quantity__bbm6q",paymentMethods:"Cart_paymentMethods__9ZXIb",payButton:"Cart_payButton__YuHP8"}},615:function(t){t.exports={container:"OrderDetail_container__g8vBb",wrapper:"OrderDetail_wrapper__gA7AW",title:"OrderDetail_title__q5AD3",item:"OrderDetail_item__cNl_Y",label:"OrderDetail_label__Gy3tH",input:"OrderDetail_input__CwAn3",button:"OrderDetail_button__PS9u_"}}},function(t){t.O(0,[669,644,774,888,179],(function(){return e=7652,t(t.s=e);var e}));var e=t.O();_N_E=e}]);